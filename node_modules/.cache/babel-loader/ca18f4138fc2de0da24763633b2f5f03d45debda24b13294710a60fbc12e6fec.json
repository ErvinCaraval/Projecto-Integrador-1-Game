{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useKeyboardControls } from \"@react-three/drei\";\nimport { useAvatar } from \"../../../context/AvatarContext\";\nimport { useEffect, useState } from \"react\";\nimport { useFrame } from \"@react-three/fiber\";\nexport default function Controls() {\n  _s();\n  const {\n    avatar,\n    setAvatar\n  } = useAvatar();\n  const [sub, get] = useKeyboardControls();\n  const [runSound] = useState(new Audio(\"/assets/sounds/run.wav\"));\n  const [play, setPlay] = useState(false);\n  useEffect(() => {\n    const unsubscribe = sub(state => state.forward || state.backward || state.leftward || state.rightward, pressed => {\n      setAvatar({\n        ...avatar,\n        animation: pressed ? \"Running\" : \"Idle\"\n      });\n    });\n    return () => unsubscribe();\n  }, [avatar, setAvatar, sub, get]);\n  useEffect(() => {\n    if (play) {\n      runSound.currentTime = 0;\n      runSound.volume = Math.random();\n      runSound.play();\n    } else {\n      runSound.pause();\n    }\n  }, [play]);\n  useFrame(() => {\n    const {\n      forward,\n      backward,\n      leftward,\n      rightward\n    } = get();\n    if (forward || backward || leftward || rightward) {\n      setPlay(true);\n    } else {\n      setPlay(false);\n    }\n    const pressed = get().back;\n  });\n}\n_s(Controls, \"X75noS1u65RyEjHxf9ZB+eBc5SM=\", false, function () {\n  return [useAvatar, useKeyboardControls, useFrame];\n});\n_c = Controls;\nvar _c;\n$RefreshReg$(_c, \"Controls\");","map":{"version":3,"names":["useKeyboardControls","useAvatar","useEffect","useState","useFrame","Controls","_s","avatar","setAvatar","sub","get","runSound","Audio","play","setPlay","unsubscribe","state","forward","backward","leftward","rightward","pressed","animation","currentTime","volume","Math","random","pause","back","_c","$RefreshReg$"],"sources":["/home/ervin/Escritorio/integrador/squid-games-pi-2024-1-client/src/pages/level1/controls/Controls.jsx"],"sourcesContent":["import { useKeyboardControls } from \"@react-three/drei\";\nimport { useAvatar } from \"../../../context/AvatarContext\";\nimport { useEffect, useState } from \"react\";\nimport { useFrame } from \"@react-three/fiber\";\n\nexport default function Controls() {\n    const { avatar, setAvatar } = useAvatar();\n    const [sub, get] = useKeyboardControls()\n    const [runSound] = useState(new Audio(\"/assets/sounds/run.wav\"))\n    const [play, setPlay] = useState(false)\n\n    useEffect(() => {\n        const unsubscribe = sub(\n          (state) => state.forward || state.backward || state.leftward || state.rightward,\n          (pressed) => {\n            setAvatar({ ...avatar, animation: pressed ? \"Running\" : \"Idle\" });\n          }\n        );\n        return () => unsubscribe();\n      }, [avatar, setAvatar, sub, get]);\n\n      useEffect(()=>{\n        if(play){\n            runSound.currentTime = 0;\n            runSound.volume = Math.random()\n            runSound.play()\n        }else{\n            runSound.pause()\n        }\n      }, [play])\n\n    useFrame(() => {\n        const { forward, backward, leftward, rightward } = get()\n        if (forward || backward || leftward || rightward) {\n            setPlay(true)\n        } else {\n            setPlay(false)\n        }\n        const pressed = get().back\n    })\n}"],"mappings":";AAAA,SAASA,mBAAmB,QAAQ,mBAAmB;AACvD,SAASC,SAAS,QAAQ,gCAAgC;AAC1D,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,oBAAoB;AAE7C,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAM;IAAEC,MAAM;IAAEC;EAAU,CAAC,GAAGP,SAAS,CAAC,CAAC;EACzC,MAAM,CAACQ,GAAG,EAAEC,GAAG,CAAC,GAAGV,mBAAmB,CAAC,CAAC;EACxC,MAAM,CAACW,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAIS,KAAK,CAAC,wBAAwB,CAAC,CAAC;EAChE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAEvCD,SAAS,CAAC,MAAM;IACZ,MAAMa,WAAW,GAAGN,GAAG,CACpBO,KAAK,IAAKA,KAAK,CAACC,OAAO,IAAID,KAAK,CAACE,QAAQ,IAAIF,KAAK,CAACG,QAAQ,IAAIH,KAAK,CAACI,SAAS,EAC9EC,OAAO,IAAK;MACXb,SAAS,CAAC;QAAE,GAAGD,MAAM;QAAEe,SAAS,EAAED,OAAO,GAAG,SAAS,GAAG;MAAO,CAAC,CAAC;IACnE,CACF,CAAC;IACD,OAAO,MAAMN,WAAW,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACR,MAAM,EAAEC,SAAS,EAAEC,GAAG,EAAEC,GAAG,CAAC,CAAC;EAEjCR,SAAS,CAAC,MAAI;IACZ,IAAGW,IAAI,EAAC;MACJF,QAAQ,CAACY,WAAW,GAAG,CAAC;MACxBZ,QAAQ,CAACa,MAAM,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC;MAC/Bf,QAAQ,CAACE,IAAI,CAAC,CAAC;IACnB,CAAC,MAAI;MACDF,QAAQ,CAACgB,KAAK,CAAC,CAAC;IACpB;EACF,CAAC,EAAE,CAACd,IAAI,CAAC,CAAC;EAEZT,QAAQ,CAAC,MAAM;IACX,MAAM;MAAEa,OAAO;MAAEC,QAAQ;MAAEC,QAAQ;MAAEC;IAAU,CAAC,GAAGV,GAAG,CAAC,CAAC;IACxD,IAAIO,OAAO,IAAIC,QAAQ,IAAIC,QAAQ,IAAIC,SAAS,EAAE;MAC9CN,OAAO,CAAC,IAAI,CAAC;IACjB,CAAC,MAAM;MACHA,OAAO,CAAC,KAAK,CAAC;IAClB;IACA,MAAMO,OAAO,GAAGX,GAAG,CAAC,CAAC,CAACkB,IAAI;EAC9B,CAAC,CAAC;AACN;AAACtB,EAAA,CAnCuBD,QAAQ;EAAA,QACEJ,SAAS,EACpBD,mBAAmB,EAwBtCI,QAAQ;AAAA;AAAAyB,EAAA,GA1BYxB,QAAQ;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}