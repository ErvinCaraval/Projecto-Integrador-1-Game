{"ast":null,"code":"import { BufferGeometry, Float32BufferAttribute, LineSegments, LineBasicMaterial, Vector3 } from 'three';\nconst _v1 = new Vector3();\nconst _v2 = new Vector3();\nclass VertexTangentsHelper extends LineSegments {\n  constructor(object, size = 1, color = 0x00ffff) {\n    const geometry = new BufferGeometry();\n    const nTangents = object.geometry.attributes.tangent.count;\n    const positions = new Float32BufferAttribute(nTangents * 2 * 3, 3);\n    geometry.setAttribute('position', positions);\n    super(geometry, new LineBasicMaterial({\n      color,\n      toneMapped: false\n    }));\n    this.object = object;\n    this.size = size;\n    this.type = 'VertexTangentsHelper';\n\n    //\n\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  update() {\n    this.object.updateMatrixWorld(true);\n    const matrixWorld = this.object.matrixWorld;\n    const position = this.geometry.attributes.position;\n\n    //\n\n    const objGeometry = this.object.geometry;\n    const objPos = objGeometry.attributes.position;\n    const objTan = objGeometry.attributes.tangent;\n    let idx = 0;\n\n    // for simplicity, ignore index and drawcalls, and render every tangent\n\n    for (let j = 0, jl = objPos.count; j < jl; j++) {\n      _v1.fromBufferAttribute(objPos, j).applyMatrix4(matrixWorld);\n      _v2.fromBufferAttribute(objTan, j);\n      _v2.transformDirection(matrixWorld).multiplyScalar(this.size).add(_v1);\n      position.setXYZ(idx, _v1.x, _v1.y, _v1.z);\n      idx = idx + 1;\n      position.setXYZ(idx, _v2.x, _v2.y, _v2.z);\n      idx = idx + 1;\n    }\n    position.needsUpdate = true;\n  }\n  dispose() {\n    this.geometry.dispose();\n    this.material.dispose();\n  }\n}\nexport { VertexTangentsHelper };","map":{"version":3,"names":["BufferGeometry","Float32BufferAttribute","LineSegments","LineBasicMaterial","Vector3","_v1","_v2","VertexTangentsHelper","constructor","object","size","color","geometry","nTangents","attributes","tangent","count","positions","setAttribute","toneMapped","type","matrixAutoUpdate","update","updateMatrixWorld","matrixWorld","position","objGeometry","objPos","objTan","idx","j","jl","fromBufferAttribute","applyMatrix4","transformDirection","multiplyScalar","add","setXYZ","x","y","z","needsUpdate","dispose","material"],"sources":["/home/ervin/Escritorio/integrador/Projecto-Integrador-1-Game/node_modules/three/examples/jsm/helpers/VertexTangentsHelper.js"],"sourcesContent":["import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tLineSegments,\n\tLineBasicMaterial,\n\tVector3\n} from 'three';\n\nconst _v1 = new Vector3();\nconst _v2 = new Vector3();\n\nclass VertexTangentsHelper extends LineSegments {\n\n\tconstructor( object, size = 1, color = 0x00ffff ) {\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst nTangents = object.geometry.attributes.tangent.count;\n\t\tconst positions = new Float32BufferAttribute( nTangents * 2 * 3, 3 );\n\n\t\tgeometry.setAttribute( 'position', positions );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.size = size;\n\t\tthis.type = 'VertexTangentsHelper';\n\n\t\t//\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tconst matrixWorld = this.object.matrixWorld;\n\n\t\tconst position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tconst objGeometry = this.object.geometry;\n\n\t\tconst objPos = objGeometry.attributes.position;\n\n\t\tconst objTan = objGeometry.attributes.tangent;\n\n\t\tlet idx = 0;\n\n\t\t// for simplicity, ignore index and drawcalls, and render every tangent\n\n\t\tfor ( let j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t_v1.fromBufferAttribute( objPos, j ).applyMatrix4( matrixWorld );\n\n\t\t\t_v2.fromBufferAttribute( objTan, j );\n\n\t\t\t_v2.transformDirection( matrixWorld ).multiplyScalar( this.size ).add( _v1 );\n\n\t\t\tposition.setXYZ( idx, _v1.x, _v1.y, _v1.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t\tposition.setXYZ( idx, _v2.x, _v2.y, _v2.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nexport { VertexTangentsHelper };\n"],"mappings":"AAAA,SACCA,cAAc,EACdC,sBAAsB,EACtBC,YAAY,EACZC,iBAAiB,EACjBC,OAAO,QACD,OAAO;AAEd,MAAMC,GAAG,GAAG,IAAID,OAAO,CAAC,CAAC;AACzB,MAAME,GAAG,GAAG,IAAIF,OAAO,CAAC,CAAC;AAEzB,MAAMG,oBAAoB,SAASL,YAAY,CAAC;EAE/CM,WAAWA,CAAEC,MAAM,EAAEC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,QAAQ,EAAG;IAEjD,MAAMC,QAAQ,GAAG,IAAIZ,cAAc,CAAC,CAAC;IAErC,MAAMa,SAAS,GAAGJ,MAAM,CAACG,QAAQ,CAACE,UAAU,CAACC,OAAO,CAACC,KAAK;IAC1D,MAAMC,SAAS,GAAG,IAAIhB,sBAAsB,CAAEY,SAAS,GAAG,CAAC,GAAG,CAAC,EAAE,CAAE,CAAC;IAEpED,QAAQ,CAACM,YAAY,CAAE,UAAU,EAAED,SAAU,CAAC;IAE9C,KAAK,CAAEL,QAAQ,EAAE,IAAIT,iBAAiB,CAAE;MAAEQ,KAAK;MAAEQ,UAAU,EAAE;IAAM,CAAE,CAAE,CAAC;IAExE,IAAI,CAACV,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACU,IAAI,GAAG,sBAAsB;;IAElC;;IAEA,IAAI,CAACC,gBAAgB,GAAG,KAAK;IAE7B,IAAI,CAACC,MAAM,CAAC,CAAC;EAEd;EAEAA,MAAMA,CAAA,EAAG;IAER,IAAI,CAACb,MAAM,CAACc,iBAAiB,CAAE,IAAK,CAAC;IAErC,MAAMC,WAAW,GAAG,IAAI,CAACf,MAAM,CAACe,WAAW;IAE3C,MAAMC,QAAQ,GAAG,IAAI,CAACb,QAAQ,CAACE,UAAU,CAACW,QAAQ;;IAElD;;IAEA,MAAMC,WAAW,GAAG,IAAI,CAACjB,MAAM,CAACG,QAAQ;IAExC,MAAMe,MAAM,GAAGD,WAAW,CAACZ,UAAU,CAACW,QAAQ;IAE9C,MAAMG,MAAM,GAAGF,WAAW,CAACZ,UAAU,CAACC,OAAO;IAE7C,IAAIc,GAAG,GAAG,CAAC;;IAEX;;IAEA,KAAM,IAAIC,CAAC,GAAG,CAAC,EAAEC,EAAE,GAAGJ,MAAM,CAACX,KAAK,EAAEc,CAAC,GAAGC,EAAE,EAAED,CAAC,EAAG,EAAG;MAElDzB,GAAG,CAAC2B,mBAAmB,CAAEL,MAAM,EAAEG,CAAE,CAAC,CAACG,YAAY,CAAET,WAAY,CAAC;MAEhElB,GAAG,CAAC0B,mBAAmB,CAAEJ,MAAM,EAAEE,CAAE,CAAC;MAEpCxB,GAAG,CAAC4B,kBAAkB,CAAEV,WAAY,CAAC,CAACW,cAAc,CAAE,IAAI,CAACzB,IAAK,CAAC,CAAC0B,GAAG,CAAE/B,GAAI,CAAC;MAE5EoB,QAAQ,CAACY,MAAM,CAAER,GAAG,EAAExB,GAAG,CAACiC,CAAC,EAAEjC,GAAG,CAACkC,CAAC,EAAElC,GAAG,CAACmC,CAAE,CAAC;MAE3CX,GAAG,GAAGA,GAAG,GAAG,CAAC;MAEbJ,QAAQ,CAACY,MAAM,CAAER,GAAG,EAAEvB,GAAG,CAACgC,CAAC,EAAEhC,GAAG,CAACiC,CAAC,EAAEjC,GAAG,CAACkC,CAAE,CAAC;MAE3CX,GAAG,GAAGA,GAAG,GAAG,CAAC;IAEd;IAEAJ,QAAQ,CAACgB,WAAW,GAAG,IAAI;EAE5B;EAEAC,OAAOA,CAAA,EAAG;IAET,IAAI,CAAC9B,QAAQ,CAAC8B,OAAO,CAAC,CAAC;IACvB,IAAI,CAACC,QAAQ,CAACD,OAAO,CAAC,CAAC;EAExB;AAED;AAEA,SAASnC,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}