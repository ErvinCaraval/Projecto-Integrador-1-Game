{"ast":null,"code":"import { ShaderMaterial, UniformsUtils } from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\nimport { CopyShader } from '../shaders/CopyShader.js';\nclass TexturePass extends Pass {\n  constructor(map, opacity) {\n    super();\n    const shader = CopyShader;\n    this.map = map;\n    this.opacity = opacity !== undefined ? opacity : 1.0;\n    this.uniforms = UniformsUtils.clone(shader.uniforms);\n    this.material = new ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      depthTest: false,\n      depthWrite: false,\n      premultipliedAlpha: true\n    });\n    this.needsSwap = false;\n    this.fsQuad = new FullScreenQuad(null);\n  }\n  render(renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */) {\n    const oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    this.fsQuad.material = this.material;\n    this.uniforms['opacity'].value = this.opacity;\n    this.uniforms['tDiffuse'].value = this.map;\n    this.material.transparent = this.opacity < 1.0;\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n    if (this.clear) renderer.clear();\n    this.fsQuad.render(renderer);\n    renderer.autoClear = oldAutoClear;\n  }\n  dispose() {\n    this.material.dispose();\n    this.fsQuad.dispose();\n  }\n}\nexport { TexturePass };","map":{"version":3,"names":["ShaderMaterial","UniformsUtils","Pass","FullScreenQuad","CopyShader","TexturePass","constructor","map","opacity","shader","undefined","uniforms","clone","material","vertexShader","fragmentShader","depthTest","depthWrite","premultipliedAlpha","needsSwap","fsQuad","render","renderer","writeBuffer","readBuffer","oldAutoClear","autoClear","value","transparent","setRenderTarget","renderToScreen","clear","dispose"],"sources":["/home/ervin/Escritorio/integrador/Projecto-Integrador-1-Game/node_modules/three/examples/jsm/postprocessing/TexturePass.js"],"sourcesContent":["import {\n\tShaderMaterial,\n\tUniformsUtils\n} from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\nimport { CopyShader } from '../shaders/CopyShader.js';\n\nclass TexturePass extends Pass {\n\n\tconstructor( map, opacity ) {\n\n\t\tsuper();\n\n\t\tconst shader = CopyShader;\n\n\t\tthis.map = map;\n\t\tthis.opacity = ( opacity !== undefined ) ? opacity : 1.0;\n\n\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\tthis.material = new ShaderMaterial( {\n\n\t\t\tuniforms: this.uniforms,\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\tpremultipliedAlpha: true\n\n\t\t} );\n\n\t\tthis.needsSwap = false;\n\n\t\tthis.fsQuad = new FullScreenQuad( null );\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tthis.fsQuad.material = this.material;\n\n\t\tthis.uniforms[ 'opacity' ].value = this.opacity;\n\t\tthis.uniforms[ 'tDiffuse' ].value = this.map;\n\t\tthis.material.transparent = ( this.opacity < 1.0 );\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.material.dispose();\n\n\t\tthis.fsQuad.dispose();\n\n\t}\n\n}\n\nexport { TexturePass };\n"],"mappings":"AAAA,SACCA,cAAc,EACdC,aAAa,QACP,OAAO;AACd,SAASC,IAAI,EAAEC,cAAc,QAAQ,WAAW;AAChD,SAASC,UAAU,QAAQ,0BAA0B;AAErD,MAAMC,WAAW,SAASH,IAAI,CAAC;EAE9BI,WAAWA,CAAEC,GAAG,EAAEC,OAAO,EAAG;IAE3B,KAAK,CAAC,CAAC;IAEP,MAAMC,MAAM,GAAGL,UAAU;IAEzB,IAAI,CAACG,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,OAAO,GAAKA,OAAO,KAAKE,SAAS,GAAKF,OAAO,GAAG,GAAG;IAExD,IAAI,CAACG,QAAQ,GAAGV,aAAa,CAACW,KAAK,CAAEH,MAAM,CAACE,QAAS,CAAC;IAEtD,IAAI,CAACE,QAAQ,GAAG,IAAIb,cAAc,CAAE;MAEnCW,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBG,YAAY,EAAEL,MAAM,CAACK,YAAY;MACjCC,cAAc,EAAEN,MAAM,CAACM,cAAc;MACrCC,SAAS,EAAE,KAAK;MAChBC,UAAU,EAAE,KAAK;MACjBC,kBAAkB,EAAE;IAErB,CAAE,CAAC;IAEH,IAAI,CAACC,SAAS,GAAG,KAAK;IAEtB,IAAI,CAACC,MAAM,GAAG,IAAIjB,cAAc,CAAE,IAAK,CAAC;EAEzC;EAEAkB,MAAMA,CAAEC,QAAQ,EAAEC,WAAW,EAAEC,UAAU,CAAC,8BAA+B;IAExE,MAAMC,YAAY,GAAGH,QAAQ,CAACI,SAAS;IACvCJ,QAAQ,CAACI,SAAS,GAAG,KAAK;IAE1B,IAAI,CAACN,MAAM,CAACP,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAEpC,IAAI,CAACF,QAAQ,CAAE,SAAS,CAAE,CAACgB,KAAK,GAAG,IAAI,CAACnB,OAAO;IAC/C,IAAI,CAACG,QAAQ,CAAE,UAAU,CAAE,CAACgB,KAAK,GAAG,IAAI,CAACpB,GAAG;IAC5C,IAAI,CAACM,QAAQ,CAACe,WAAW,GAAK,IAAI,CAACpB,OAAO,GAAG,GAAK;IAElDc,QAAQ,CAACO,eAAe,CAAE,IAAI,CAACC,cAAc,GAAG,IAAI,GAAGN,UAAW,CAAC;IACnE,IAAK,IAAI,CAACO,KAAK,EAAGT,QAAQ,CAACS,KAAK,CAAC,CAAC;IAClC,IAAI,CAACX,MAAM,CAACC,MAAM,CAAEC,QAAS,CAAC;IAE9BA,QAAQ,CAACI,SAAS,GAAGD,YAAY;EAElC;EAEAO,OAAOA,CAAA,EAAG;IAET,IAAI,CAACnB,QAAQ,CAACmB,OAAO,CAAC,CAAC;IAEvB,IAAI,CAACZ,MAAM,CAACY,OAAO,CAAC,CAAC;EAEtB;AAED;AAEA,SAAS3B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}