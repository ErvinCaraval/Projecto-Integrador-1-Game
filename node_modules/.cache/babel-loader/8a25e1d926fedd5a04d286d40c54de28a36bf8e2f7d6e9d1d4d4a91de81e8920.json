{"ast":null,"code":"import { FloatType, HalfFloatType, UnsignedByteType, RGBAFormat, RGFormat, RGIntegerFormat, RedFormat, RedIntegerFormat, NoColorSpace, LinearSRGBColorSpace, SRGBColorSpace, DataTexture, REVISION } from 'three';\nimport { write, KTX2Container, KHR_DF_CHANNEL_RGBSDA_ALPHA, KHR_DF_CHANNEL_RGBSDA_BLUE, KHR_DF_CHANNEL_RGBSDA_GREEN, KHR_DF_CHANNEL_RGBSDA_RED, KHR_DF_MODEL_RGBSDA, KHR_DF_PRIMARIES_BT709, KHR_DF_PRIMARIES_UNSPECIFIED, KHR_DF_SAMPLE_DATATYPE_FLOAT, KHR_DF_SAMPLE_DATATYPE_LINEAR, KHR_DF_SAMPLE_DATATYPE_SIGNED, KHR_DF_TRANSFER_LINEAR, KHR_DF_TRANSFER_SRGB, VK_FORMAT_R16_SFLOAT, VK_FORMAT_R16G16_SFLOAT, VK_FORMAT_R16G16B16A16_SFLOAT, VK_FORMAT_R32_SFLOAT, VK_FORMAT_R32G32_SFLOAT, VK_FORMAT_R32G32B32A32_SFLOAT, VK_FORMAT_R8_SRGB, VK_FORMAT_R8_UNORM, VK_FORMAT_R8G8_SRGB, VK_FORMAT_R8G8_UNORM, VK_FORMAT_R8G8B8A8_SRGB, VK_FORMAT_R8G8B8A8_UNORM } from '../libs/ktx-parse.module.js';\nconst VK_FORMAT_MAP = {\n  [RGBAFormat]: {\n    [FloatType]: {\n      [NoColorSpace]: VK_FORMAT_R32G32B32A32_SFLOAT,\n      [LinearSRGBColorSpace]: VK_FORMAT_R32G32B32A32_SFLOAT\n    },\n    [HalfFloatType]: {\n      [NoColorSpace]: VK_FORMAT_R16G16B16A16_SFLOAT,\n      [LinearSRGBColorSpace]: VK_FORMAT_R16G16B16A16_SFLOAT\n    },\n    [UnsignedByteType]: {\n      [NoColorSpace]: VK_FORMAT_R8G8B8A8_UNORM,\n      [LinearSRGBColorSpace]: VK_FORMAT_R8G8B8A8_UNORM,\n      [SRGBColorSpace]: VK_FORMAT_R8G8B8A8_SRGB\n    }\n  },\n  [RGFormat]: {\n    [FloatType]: {\n      [NoColorSpace]: VK_FORMAT_R32G32_SFLOAT,\n      [LinearSRGBColorSpace]: VK_FORMAT_R32G32_SFLOAT\n    },\n    [HalfFloatType]: {\n      [NoColorSpace]: VK_FORMAT_R16G16_SFLOAT,\n      [LinearSRGBColorSpace]: VK_FORMAT_R16G16_SFLOAT\n    },\n    [UnsignedByteType]: {\n      [NoColorSpace]: VK_FORMAT_R8G8_UNORM,\n      [LinearSRGBColorSpace]: VK_FORMAT_R8G8_UNORM,\n      [SRGBColorSpace]: VK_FORMAT_R8G8_SRGB\n    }\n  },\n  [RedFormat]: {\n    [FloatType]: {\n      [NoColorSpace]: VK_FORMAT_R32_SFLOAT,\n      [LinearSRGBColorSpace]: VK_FORMAT_R32_SFLOAT\n    },\n    [HalfFloatType]: {\n      [NoColorSpace]: VK_FORMAT_R16_SFLOAT,\n      [LinearSRGBColorSpace]: VK_FORMAT_R16_SFLOAT\n    },\n    [UnsignedByteType]: {\n      [NoColorSpace]: VK_FORMAT_R8_UNORM,\n      [LinearSRGBColorSpace]: VK_FORMAT_R8_UNORM,\n      [SRGBColorSpace]: VK_FORMAT_R8_SRGB\n    }\n  }\n};\nconst KHR_DF_CHANNEL_MAP = {\n  0: KHR_DF_CHANNEL_RGBSDA_RED,\n  1: KHR_DF_CHANNEL_RGBSDA_GREEN,\n  2: KHR_DF_CHANNEL_RGBSDA_BLUE,\n  3: KHR_DF_CHANNEL_RGBSDA_ALPHA\n};\nconst ERROR_INPUT = 'THREE.KTX2Exporter: Supported inputs are DataTexture, Data3DTexture, or WebGLRenderer and WebGLRenderTarget.';\nconst ERROR_FORMAT = 'THREE.KTX2Exporter: Supported formats are RGBAFormat, RGFormat, or RedFormat.';\nconst ERROR_TYPE = 'THREE.KTX2Exporter: Supported types are FloatType, HalfFloatType, or UnsignedByteType.\"';\nconst ERROR_COLOR_SPACE = 'THREE.KTX2Exporter: Supported color spaces are SRGBColorSpace (UnsignedByteType only), LinearSRGBColorSpace, or NoColorSpace.';\nexport class KTX2Exporter {\n  parse(arg1, arg2) {\n    let texture;\n    if (arg1.isDataTexture || arg1.isData3DTexture) {\n      texture = arg1;\n    } else if (arg1.isWebGLRenderer && arg2.isWebGLRenderTarget) {\n      texture = toDataTexture(arg1, arg2);\n    } else {\n      throw new Error(ERROR_INPUT);\n    }\n    if (VK_FORMAT_MAP[texture.format] === undefined) {\n      throw new Error(ERROR_FORMAT);\n    }\n    if (VK_FORMAT_MAP[texture.format][texture.type] === undefined) {\n      throw new Error(ERROR_TYPE);\n    }\n    if (VK_FORMAT_MAP[texture.format][texture.type][texture.colorSpace] === undefined) {\n      throw new Error(ERROR_COLOR_SPACE);\n    }\n\n    //\n\n    const array = texture.image.data;\n    const channelCount = getChannelCount(texture);\n    const container = new KTX2Container();\n    container.vkFormat = VK_FORMAT_MAP[texture.format][texture.type][texture.colorSpace];\n    container.typeSize = array.BYTES_PER_ELEMENT;\n    container.pixelWidth = texture.image.width;\n    container.pixelHeight = texture.image.height;\n    if (texture.isData3DTexture) {\n      container.pixelDepth = texture.image.depth;\n    }\n\n    //\n\n    const basicDesc = container.dataFormatDescriptor[0];\n    basicDesc.colorModel = KHR_DF_MODEL_RGBSDA;\n    basicDesc.colorPrimaries = texture.colorSpace === NoColorSpace ? KHR_DF_PRIMARIES_UNSPECIFIED : KHR_DF_PRIMARIES_BT709;\n    basicDesc.transferFunction = texture.colorSpace === SRGBColorSpace ? KHR_DF_TRANSFER_SRGB : KHR_DF_TRANSFER_LINEAR;\n    basicDesc.texelBlockDimension = [0, 0, 0, 0];\n    basicDesc.bytesPlane = [container.typeSize * channelCount, 0, 0, 0, 0, 0, 0, 0];\n    for (let i = 0; i < channelCount; ++i) {\n      let channelType = KHR_DF_CHANNEL_MAP[i];\n      if (texture.colorSpace === LinearSRGBColorSpace || texture.colorSpace === NoColorSpace) {\n        channelType |= KHR_DF_SAMPLE_DATATYPE_LINEAR;\n      }\n      if (texture.type === FloatType || texture.type === HalfFloatType) {\n        channelType |= KHR_DF_SAMPLE_DATATYPE_FLOAT;\n        channelType |= KHR_DF_SAMPLE_DATATYPE_SIGNED;\n      }\n      basicDesc.samples.push({\n        channelType: channelType,\n        bitOffset: i * array.BYTES_PER_ELEMENT,\n        bitLength: array.BYTES_PER_ELEMENT * 8 - 1,\n        samplePosition: [0, 0, 0, 0],\n        sampleLower: texture.type === UnsignedByteType ? 0 : -1,\n        sampleUpper: texture.type === UnsignedByteType ? 255 : 1\n      });\n    }\n\n    //\n\n    container.levels = [{\n      levelData: new Uint8Array(array.buffer, array.byteOffset, array.byteLength),\n      uncompressedByteLength: array.byteLength\n    }];\n\n    //\n\n    container.keyValue['KTXwriter'] = `three.js ${REVISION}`;\n\n    //\n\n    return write(container, {\n      keepWriter: true\n    });\n  }\n}\nfunction toDataTexture(renderer, rtt) {\n  const channelCount = getChannelCount(rtt.texture);\n  let view;\n  if (rtt.texture.type === FloatType) {\n    view = new Float32Array(rtt.width * rtt.height * channelCount);\n  } else if (rtt.texture.type === HalfFloatType) {\n    view = new Uint16Array(rtt.width * rtt.height * channelCount);\n  } else if (rtt.texture.type === UnsignedByteType) {\n    view = new Uint8Array(rtt.width * rtt.height * channelCount);\n  } else {\n    throw new Error(ERROR_TYPE);\n  }\n  renderer.readRenderTargetPixels(rtt, 0, 0, rtt.width, rtt.height, view);\n  return new DataTexture(view, rtt.width, rtt.height, rtt.texture.format, rtt.texture.type);\n}\nfunction getChannelCount(texture) {\n  switch (texture.format) {\n    case RGBAFormat:\n      return 4;\n    case RGFormat:\n    case RGIntegerFormat:\n      return 2;\n    case RedFormat:\n    case RedIntegerFormat:\n      return 1;\n    default:\n      throw new Error(ERROR_FORMAT);\n  }\n}","map":{"version":3,"names":["FloatType","HalfFloatType","UnsignedByteType","RGBAFormat","RGFormat","RGIntegerFormat","RedFormat","RedIntegerFormat","NoColorSpace","LinearSRGBColorSpace","SRGBColorSpace","DataTexture","REVISION","write","KTX2Container","KHR_DF_CHANNEL_RGBSDA_ALPHA","KHR_DF_CHANNEL_RGBSDA_BLUE","KHR_DF_CHANNEL_RGBSDA_GREEN","KHR_DF_CHANNEL_RGBSDA_RED","KHR_DF_MODEL_RGBSDA","KHR_DF_PRIMARIES_BT709","KHR_DF_PRIMARIES_UNSPECIFIED","KHR_DF_SAMPLE_DATATYPE_FLOAT","KHR_DF_SAMPLE_DATATYPE_LINEAR","KHR_DF_SAMPLE_DATATYPE_SIGNED","KHR_DF_TRANSFER_LINEAR","KHR_DF_TRANSFER_SRGB","VK_FORMAT_R16_SFLOAT","VK_FORMAT_R16G16_SFLOAT","VK_FORMAT_R16G16B16A16_SFLOAT","VK_FORMAT_R32_SFLOAT","VK_FORMAT_R32G32_SFLOAT","VK_FORMAT_R32G32B32A32_SFLOAT","VK_FORMAT_R8_SRGB","VK_FORMAT_R8_UNORM","VK_FORMAT_R8G8_SRGB","VK_FORMAT_R8G8_UNORM","VK_FORMAT_R8G8B8A8_SRGB","VK_FORMAT_R8G8B8A8_UNORM","VK_FORMAT_MAP","KHR_DF_CHANNEL_MAP","ERROR_INPUT","ERROR_FORMAT","ERROR_TYPE","ERROR_COLOR_SPACE","KTX2Exporter","parse","arg1","arg2","texture","isDataTexture","isData3DTexture","isWebGLRenderer","isWebGLRenderTarget","toDataTexture","Error","format","undefined","type","colorSpace","array","image","data","channelCount","getChannelCount","container","vkFormat","typeSize","BYTES_PER_ELEMENT","pixelWidth","width","pixelHeight","height","pixelDepth","depth","basicDesc","dataFormatDescriptor","colorModel","colorPrimaries","transferFunction","texelBlockDimension","bytesPlane","i","channelType","samples","push","bitOffset","bitLength","samplePosition","sampleLower","sampleUpper","levels","levelData","Uint8Array","buffer","byteOffset","byteLength","uncompressedByteLength","keyValue","keepWriter","renderer","rtt","view","Float32Array","Uint16Array","readRenderTargetPixels"],"sources":["/home/ervin/Escritorio/integrador/Projecto-Integrador-1-Game/node_modules/three/examples/jsm/exporters/KTX2Exporter.js"],"sourcesContent":["import {\n\tFloatType,\n\tHalfFloatType,\n\tUnsignedByteType,\n\tRGBAFormat,\n\tRGFormat,\n\tRGIntegerFormat,\n\tRedFormat,\n\tRedIntegerFormat,\n\tNoColorSpace,\n\tLinearSRGBColorSpace,\n\tSRGBColorSpace,\n\tDataTexture,\n\tREVISION,\n} from 'three';\n\nimport {\n\twrite,\n\tKTX2Container,\n\tKHR_DF_CHANNEL_RGBSDA_ALPHA,\n\tKHR_DF_CHANNEL_RGBSDA_BLUE,\n\tKHR_DF_CHANNEL_RGBSDA_GREEN,\n\tKHR_DF_CHANNEL_RGBSDA_RED,\n\tKHR_DF_MODEL_RGBSDA,\n\tKHR_DF_PRIMARIES_BT709,\n\tKHR_DF_PRIMARIES_UNSPECIFIED,\n\tKHR_DF_SAMPLE_DATATYPE_FLOAT,\n\tKHR_DF_SAMPLE_DATATYPE_LINEAR,\n\tKHR_DF_SAMPLE_DATATYPE_SIGNED,\n\tKHR_DF_TRANSFER_LINEAR,\n\tKHR_DF_TRANSFER_SRGB,\n\tVK_FORMAT_R16_SFLOAT,\n\tVK_FORMAT_R16G16_SFLOAT,\n\tVK_FORMAT_R16G16B16A16_SFLOAT,\n\tVK_FORMAT_R32_SFLOAT,\n\tVK_FORMAT_R32G32_SFLOAT,\n\tVK_FORMAT_R32G32B32A32_SFLOAT,\n\tVK_FORMAT_R8_SRGB,\n\tVK_FORMAT_R8_UNORM,\n\tVK_FORMAT_R8G8_SRGB,\n\tVK_FORMAT_R8G8_UNORM,\n\tVK_FORMAT_R8G8B8A8_SRGB,\n\tVK_FORMAT_R8G8B8A8_UNORM,\n} from '../libs/ktx-parse.module.js';\n\nconst VK_FORMAT_MAP = {\n\n\t[ RGBAFormat ]: {\n\t\t[ FloatType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R32G32B32A32_SFLOAT,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R32G32B32A32_SFLOAT,\n\t\t},\n\t\t[ HalfFloatType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R16G16B16A16_SFLOAT,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R16G16B16A16_SFLOAT,\n\t\t},\n\t\t[ UnsignedByteType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R8G8B8A8_UNORM,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R8G8B8A8_UNORM,\n\t\t\t[ SRGBColorSpace ]: VK_FORMAT_R8G8B8A8_SRGB,\n\t\t},\n\t},\n\n\t[ RGFormat ]: {\n\t\t[ FloatType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R32G32_SFLOAT,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R32G32_SFLOAT,\n\t\t},\n\t\t[ HalfFloatType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R16G16_SFLOAT,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R16G16_SFLOAT,\n\t\t},\n\t\t[ UnsignedByteType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R8G8_UNORM,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R8G8_UNORM,\n\t\t\t[ SRGBColorSpace ]: VK_FORMAT_R8G8_SRGB,\n\t\t},\n\t},\n\n\t[ RedFormat ]: {\n\t\t[ FloatType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R32_SFLOAT,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R32_SFLOAT,\n\t\t},\n\t\t[ HalfFloatType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R16_SFLOAT,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R16_SFLOAT,\n\t\t},\n\t\t[ UnsignedByteType ]: {\n\t\t\t[ NoColorSpace ]: VK_FORMAT_R8_UNORM,\n\t\t\t[ LinearSRGBColorSpace ]: VK_FORMAT_R8_UNORM,\n\t\t\t[ SRGBColorSpace ]: VK_FORMAT_R8_SRGB,\n\t\t},\n\t},\n\n};\n\nconst KHR_DF_CHANNEL_MAP = {\n\n\t0: KHR_DF_CHANNEL_RGBSDA_RED,\n\t1: KHR_DF_CHANNEL_RGBSDA_GREEN,\n\t2: KHR_DF_CHANNEL_RGBSDA_BLUE,\n\t3: KHR_DF_CHANNEL_RGBSDA_ALPHA,\n\n};\n\nconst ERROR_INPUT = 'THREE.KTX2Exporter: Supported inputs are DataTexture, Data3DTexture, or WebGLRenderer and WebGLRenderTarget.';\nconst ERROR_FORMAT = 'THREE.KTX2Exporter: Supported formats are RGBAFormat, RGFormat, or RedFormat.';\nconst ERROR_TYPE = 'THREE.KTX2Exporter: Supported types are FloatType, HalfFloatType, or UnsignedByteType.\"';\nconst ERROR_COLOR_SPACE = 'THREE.KTX2Exporter: Supported color spaces are SRGBColorSpace (UnsignedByteType only), LinearSRGBColorSpace, or NoColorSpace.';\n\nexport class KTX2Exporter {\n\n\tparse( arg1, arg2 ) {\n\n\t\tlet texture;\n\n\t\tif ( arg1.isDataTexture || arg1.isData3DTexture ) {\n\n\t\t\ttexture = arg1;\n\n\t\t} else if ( arg1.isWebGLRenderer && arg2.isWebGLRenderTarget ) {\n\n\t\t\ttexture = toDataTexture( arg1, arg2 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( ERROR_INPUT );\n\n\t\t}\n\n\t\tif ( VK_FORMAT_MAP[ texture.format ] === undefined ) {\n\n\t\t\tthrow new Error( ERROR_FORMAT );\n\n\t\t}\n\n\t\tif ( VK_FORMAT_MAP[ texture.format ][ texture.type ] === undefined ) {\n\n\t\t\tthrow new Error( ERROR_TYPE );\n\n\t\t}\n\n\t\tif ( VK_FORMAT_MAP[ texture.format ][ texture.type ][ texture.colorSpace ] === undefined ) {\n\n\t\t\tthrow new Error( ERROR_COLOR_SPACE );\n\n\t\t}\n\n\t\t//\n\n\t\tconst array = texture.image.data;\n\t\tconst channelCount = getChannelCount( texture );\n\t\tconst container = new KTX2Container();\n\n\t\tcontainer.vkFormat = VK_FORMAT_MAP[ texture.format ][ texture.type ][ texture.colorSpace ];\n\t\tcontainer.typeSize = array.BYTES_PER_ELEMENT;\n\t\tcontainer.pixelWidth = texture.image.width;\n\t\tcontainer.pixelHeight = texture.image.height;\n\n\t\tif ( texture.isData3DTexture ) {\n\n\t\t\tcontainer.pixelDepth = texture.image.depth;\n\n\t\t}\n\n\t\t//\n\n\t\tconst basicDesc = container.dataFormatDescriptor[ 0 ];\n\n\t\tbasicDesc.colorModel = KHR_DF_MODEL_RGBSDA;\n\t\tbasicDesc.colorPrimaries = texture.colorSpace === NoColorSpace\n\t\t\t? KHR_DF_PRIMARIES_UNSPECIFIED\n\t\t\t: KHR_DF_PRIMARIES_BT709;\n\t\tbasicDesc.transferFunction = texture.colorSpace === SRGBColorSpace\n\t\t\t? KHR_DF_TRANSFER_SRGB\n\t\t\t: KHR_DF_TRANSFER_LINEAR;\n\n\t\tbasicDesc.texelBlockDimension = [ 0, 0, 0, 0 ];\n\n\t\tbasicDesc.bytesPlane = [\n\n\t\t\tcontainer.typeSize * channelCount, 0, 0, 0, 0, 0, 0, 0,\n\n\t\t];\n\n\t\tfor ( let i = 0; i < channelCount; ++ i ) {\n\n\t\t\tlet channelType = KHR_DF_CHANNEL_MAP[ i ];\n\n\t\t\tif ( texture.colorSpace === LinearSRGBColorSpace || texture.colorSpace === NoColorSpace ) {\n\n\t\t\t\tchannelType |= KHR_DF_SAMPLE_DATATYPE_LINEAR;\n\n\t\t\t}\n\n\t\t\tif ( texture.type === FloatType || texture.type === HalfFloatType ) {\n\n\t\t\t\tchannelType |= KHR_DF_SAMPLE_DATATYPE_FLOAT;\n\t\t\t\tchannelType |= KHR_DF_SAMPLE_DATATYPE_SIGNED;\n\n\t\t\t}\n\n\t\t\tbasicDesc.samples.push( {\n\n\t\t\t\tchannelType: channelType,\n\t\t\t\tbitOffset: i * array.BYTES_PER_ELEMENT,\n\t\t\t\tbitLength: array.BYTES_PER_ELEMENT * 8 - 1,\n\t\t\t\tsamplePosition: [ 0, 0, 0, 0 ],\n\t\t\t\tsampleLower: texture.type === UnsignedByteType ? 0 : - 1,\n\t\t\t\tsampleUpper: texture.type === UnsignedByteType ? 255 : 1,\n\n\t\t\t} );\n\n\t\t}\n\n\t\t//\n\n\t\tcontainer.levels = [ {\n\n\t\t\tlevelData: new Uint8Array( array.buffer, array.byteOffset, array.byteLength ),\n\t\t\tuncompressedByteLength: array.byteLength,\n\n\t\t} ];\n\n\t\t//\n\n\t\tcontainer.keyValue[ 'KTXwriter' ] = `three.js ${ REVISION }`;\n\n\t\t//\n\n\t\treturn write( container, { keepWriter: true } );\n\n\t}\n\n}\n\nfunction toDataTexture( renderer, rtt ) {\n\n\tconst channelCount = getChannelCount( rtt.texture );\n\n\tlet view;\n\n\tif ( rtt.texture.type === FloatType ) {\n\n\t\tview = new Float32Array( rtt.width * rtt.height * channelCount );\n\n\t} else if ( rtt.texture.type === HalfFloatType ) {\n\n\t\tview = new Uint16Array( rtt.width * rtt.height * channelCount );\n\n\t} else if ( rtt.texture.type === UnsignedByteType ) {\n\n\t\tview = new Uint8Array( rtt.width * rtt.height * channelCount );\n\n\t} else {\n\n\t\tthrow new Error( ERROR_TYPE );\n\n\t}\n\n\trenderer.readRenderTargetPixels( rtt, 0, 0, rtt.width, rtt.height, view );\n\n\treturn new DataTexture( view, rtt.width, rtt.height, rtt.texture.format, rtt.texture.type );\n\n}\n\nfunction getChannelCount( texture ) {\n\n\tswitch ( texture.format ) {\n\n\t\tcase RGBAFormat:\n\n\t\t\treturn 4;\n\n\t\tcase RGFormat:\n\t\tcase RGIntegerFormat:\n\n\t\t\treturn 2;\n\n\t\tcase RedFormat:\n\t\tcase RedIntegerFormat:\n\n\t\t\treturn 1;\n\n\t\tdefault:\n\n\t\t\tthrow new Error( ERROR_FORMAT );\n\n\t}\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}