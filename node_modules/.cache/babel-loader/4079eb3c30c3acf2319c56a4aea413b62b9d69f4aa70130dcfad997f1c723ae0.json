{"ast":null,"code":"import { BoxGeometry, CanvasTexture, Color, Euler, Mesh, MeshBasicMaterial, Object3D, OrthographicCamera, Quaternion, Raycaster, Sprite, SpriteMaterial, Vector2, Vector3, Vector4 } from 'three';\nclass ViewHelper extends Object3D {\n  constructor(camera, domElement) {\n    super();\n    this.isViewHelper = true;\n    this.animating = false;\n    this.center = new Vector3();\n    const color1 = new Color('#ff3653');\n    const color2 = new Color('#8adb00');\n    const color3 = new Color('#2c8fff');\n    const interactiveObjects = [];\n    const raycaster = new Raycaster();\n    const mouse = new Vector2();\n    const dummy = new Object3D();\n    const orthoCamera = new OrthographicCamera(-2, 2, 2, -2, 0, 4);\n    orthoCamera.position.set(0, 0, 2);\n    const geometry = new BoxGeometry(0.8, 0.05, 0.05).translate(0.4, 0, 0);\n    const xAxis = new Mesh(geometry, getAxisMaterial(color1));\n    const yAxis = new Mesh(geometry, getAxisMaterial(color2));\n    const zAxis = new Mesh(geometry, getAxisMaterial(color3));\n    yAxis.rotation.z = Math.PI / 2;\n    zAxis.rotation.y = -Math.PI / 2;\n    this.add(xAxis);\n    this.add(zAxis);\n    this.add(yAxis);\n    const posXAxisHelper = new Sprite(getSpriteMaterial(color1, 'X'));\n    posXAxisHelper.userData.type = 'posX';\n    const posYAxisHelper = new Sprite(getSpriteMaterial(color2, 'Y'));\n    posYAxisHelper.userData.type = 'posY';\n    const posZAxisHelper = new Sprite(getSpriteMaterial(color3, 'Z'));\n    posZAxisHelper.userData.type = 'posZ';\n    const negXAxisHelper = new Sprite(getSpriteMaterial(color1));\n    negXAxisHelper.userData.type = 'negX';\n    const negYAxisHelper = new Sprite(getSpriteMaterial(color2));\n    negYAxisHelper.userData.type = 'negY';\n    const negZAxisHelper = new Sprite(getSpriteMaterial(color3));\n    negZAxisHelper.userData.type = 'negZ';\n    posXAxisHelper.position.x = 1;\n    posYAxisHelper.position.y = 1;\n    posZAxisHelper.position.z = 1;\n    negXAxisHelper.position.x = -1;\n    negXAxisHelper.scale.setScalar(0.8);\n    negYAxisHelper.position.y = -1;\n    negYAxisHelper.scale.setScalar(0.8);\n    negZAxisHelper.position.z = -1;\n    negZAxisHelper.scale.setScalar(0.8);\n    this.add(posXAxisHelper);\n    this.add(posYAxisHelper);\n    this.add(posZAxisHelper);\n    this.add(negXAxisHelper);\n    this.add(negYAxisHelper);\n    this.add(negZAxisHelper);\n    interactiveObjects.push(posXAxisHelper);\n    interactiveObjects.push(posYAxisHelper);\n    interactiveObjects.push(posZAxisHelper);\n    interactiveObjects.push(negXAxisHelper);\n    interactiveObjects.push(negYAxisHelper);\n    interactiveObjects.push(negZAxisHelper);\n    const point = new Vector3();\n    const dim = 128;\n    const turnRate = 2 * Math.PI; // turn rate in angles per second\n\n    this.render = function (renderer) {\n      this.quaternion.copy(camera.quaternion).invert();\n      this.updateMatrixWorld();\n      point.set(0, 0, 1);\n      point.applyQuaternion(camera.quaternion);\n      if (point.x >= 0) {\n        posXAxisHelper.material.opacity = 1;\n        negXAxisHelper.material.opacity = 0.5;\n      } else {\n        posXAxisHelper.material.opacity = 0.5;\n        negXAxisHelper.material.opacity = 1;\n      }\n      if (point.y >= 0) {\n        posYAxisHelper.material.opacity = 1;\n        negYAxisHelper.material.opacity = 0.5;\n      } else {\n        posYAxisHelper.material.opacity = 0.5;\n        negYAxisHelper.material.opacity = 1;\n      }\n      if (point.z >= 0) {\n        posZAxisHelper.material.opacity = 1;\n        negZAxisHelper.material.opacity = 0.5;\n      } else {\n        posZAxisHelper.material.opacity = 0.5;\n        negZAxisHelper.material.opacity = 1;\n      }\n\n      //\n\n      const x = domElement.offsetWidth - dim;\n      renderer.clearDepth();\n      renderer.getViewport(viewport);\n      renderer.setViewport(x, 0, dim, dim);\n      renderer.render(this, orthoCamera);\n      renderer.setViewport(viewport.x, viewport.y, viewport.z, viewport.w);\n    };\n    const targetPosition = new Vector3();\n    const targetQuaternion = new Quaternion();\n    const q1 = new Quaternion();\n    const q2 = new Quaternion();\n    const viewport = new Vector4();\n    let radius = 0;\n    this.handleClick = function (event) {\n      if (this.animating === true) return false;\n      const rect = domElement.getBoundingClientRect();\n      const offsetX = rect.left + (domElement.offsetWidth - dim);\n      const offsetY = rect.top + (domElement.offsetHeight - dim);\n      mouse.x = (event.clientX - offsetX) / (rect.right - offsetX) * 2 - 1;\n      mouse.y = -((event.clientY - offsetY) / (rect.bottom - offsetY)) * 2 + 1;\n      raycaster.setFromCamera(mouse, orthoCamera);\n      const intersects = raycaster.intersectObjects(interactiveObjects);\n      if (intersects.length > 0) {\n        const intersection = intersects[0];\n        const object = intersection.object;\n        prepareAnimationData(object, this.center);\n        this.animating = true;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    this.update = function (delta) {\n      const step = delta * turnRate;\n\n      // animate position by doing a slerp and then scaling the position on the unit sphere\n\n      q1.rotateTowards(q2, step);\n      camera.position.set(0, 0, 1).applyQuaternion(q1).multiplyScalar(radius).add(this.center);\n\n      // animate orientation\n\n      camera.quaternion.rotateTowards(targetQuaternion, step);\n      if (q1.angleTo(q2) === 0) {\n        this.animating = false;\n      }\n    };\n    this.dispose = function () {\n      geometry.dispose();\n      xAxis.material.dispose();\n      yAxis.material.dispose();\n      zAxis.material.dispose();\n      posXAxisHelper.material.map.dispose();\n      posYAxisHelper.material.map.dispose();\n      posZAxisHelper.material.map.dispose();\n      negXAxisHelper.material.map.dispose();\n      negYAxisHelper.material.map.dispose();\n      negZAxisHelper.material.map.dispose();\n      posXAxisHelper.material.dispose();\n      posYAxisHelper.material.dispose();\n      posZAxisHelper.material.dispose();\n      negXAxisHelper.material.dispose();\n      negYAxisHelper.material.dispose();\n      negZAxisHelper.material.dispose();\n    };\n    function prepareAnimationData(object, focusPoint) {\n      switch (object.userData.type) {\n        case 'posX':\n          targetPosition.set(1, 0, 0);\n          targetQuaternion.setFromEuler(new Euler(0, Math.PI * 0.5, 0));\n          break;\n        case 'posY':\n          targetPosition.set(0, 1, 0);\n          targetQuaternion.setFromEuler(new Euler(-Math.PI * 0.5, 0, 0));\n          break;\n        case 'posZ':\n          targetPosition.set(0, 0, 1);\n          targetQuaternion.setFromEuler(new Euler());\n          break;\n        case 'negX':\n          targetPosition.set(-1, 0, 0);\n          targetQuaternion.setFromEuler(new Euler(0, -Math.PI * 0.5, 0));\n          break;\n        case 'negY':\n          targetPosition.set(0, -1, 0);\n          targetQuaternion.setFromEuler(new Euler(Math.PI * 0.5, 0, 0));\n          break;\n        case 'negZ':\n          targetPosition.set(0, 0, -1);\n          targetQuaternion.setFromEuler(new Euler(0, Math.PI, 0));\n          break;\n        default:\n          console.error('ViewHelper: Invalid axis.');\n      }\n\n      //\n\n      radius = camera.position.distanceTo(focusPoint);\n      targetPosition.multiplyScalar(radius).add(focusPoint);\n      dummy.position.copy(focusPoint);\n      dummy.lookAt(camera.position);\n      q1.copy(dummy.quaternion);\n      dummy.lookAt(targetPosition);\n      q2.copy(dummy.quaternion);\n    }\n    function getAxisMaterial(color) {\n      return new MeshBasicMaterial({\n        color: color,\n        toneMapped: false\n      });\n    }\n    function getSpriteMaterial(color, text = null) {\n      const canvas = document.createElement('canvas');\n      canvas.width = 64;\n      canvas.height = 64;\n      const context = canvas.getContext('2d');\n      context.beginPath();\n      context.arc(32, 32, 16, 0, 2 * Math.PI);\n      context.closePath();\n      context.fillStyle = color.getStyle();\n      context.fill();\n      if (text !== null) {\n        context.font = '24px Arial';\n        context.textAlign = 'center';\n        context.fillStyle = '#000000';\n        context.fillText(text, 32, 41);\n      }\n      const texture = new CanvasTexture(canvas);\n      return new SpriteMaterial({\n        map: texture,\n        toneMapped: false\n      });\n    }\n  }\n}\nexport { ViewHelper };","map":{"version":3,"names":["BoxGeometry","CanvasTexture","Color","Euler","Mesh","MeshBasicMaterial","Object3D","OrthographicCamera","Quaternion","Raycaster","Sprite","SpriteMaterial","Vector2","Vector3","Vector4","ViewHelper","constructor","camera","domElement","isViewHelper","animating","center","color1","color2","color3","interactiveObjects","raycaster","mouse","dummy","orthoCamera","position","set","geometry","translate","xAxis","getAxisMaterial","yAxis","zAxis","rotation","z","Math","PI","y","add","posXAxisHelper","getSpriteMaterial","userData","type","posYAxisHelper","posZAxisHelper","negXAxisHelper","negYAxisHelper","negZAxisHelper","x","scale","setScalar","push","point","dim","turnRate","render","renderer","quaternion","copy","invert","updateMatrixWorld","applyQuaternion","material","opacity","offsetWidth","clearDepth","getViewport","viewport","setViewport","w","targetPosition","targetQuaternion","q1","q2","radius","handleClick","event","rect","getBoundingClientRect","offsetX","left","offsetY","top","offsetHeight","clientX","right","clientY","bottom","setFromCamera","intersects","intersectObjects","length","intersection","object","prepareAnimationData","update","delta","step","rotateTowards","multiplyScalar","angleTo","dispose","map","focusPoint","setFromEuler","console","error","distanceTo","lookAt","color","toneMapped","text","canvas","document","createElement","width","height","context","getContext","beginPath","arc","closePath","fillStyle","getStyle","fill","font","textAlign","fillText","texture"],"sources":["/home/ervin/Escritorio/integrador/Projecto-Integrador-1-Game/node_modules/three/examples/jsm/helpers/ViewHelper.js"],"sourcesContent":["import {\n\tBoxGeometry,\n\tCanvasTexture,\n\tColor,\n\tEuler,\n\tMesh,\n\tMeshBasicMaterial,\n\tObject3D,\n\tOrthographicCamera,\n\tQuaternion,\n\tRaycaster,\n\tSprite,\n\tSpriteMaterial,\n\tVector2,\n\tVector3,\n\tVector4\n} from 'three';\n\nclass ViewHelper extends Object3D {\n\n\tconstructor( camera, domElement ) {\n\n\t\tsuper();\n\n\t\tthis.isViewHelper = true;\n\n\t\tthis.animating = false;\n\t\tthis.center = new Vector3();\n\n\t\tconst color1 = new Color( '#ff3653' );\n\t\tconst color2 = new Color( '#8adb00' );\n\t\tconst color3 = new Color( '#2c8fff' );\n\n\t\tconst interactiveObjects = [];\n\t\tconst raycaster = new Raycaster();\n\t\tconst mouse = new Vector2();\n\t\tconst dummy = new Object3D();\n\n\t\tconst orthoCamera = new OrthographicCamera( - 2, 2, 2, - 2, 0, 4 );\n\t\torthoCamera.position.set( 0, 0, 2 );\n\n\t\tconst geometry = new BoxGeometry( 0.8, 0.05, 0.05 ).translate( 0.4, 0, 0 );\n\n\t\tconst xAxis = new Mesh( geometry, getAxisMaterial( color1 ) );\n\t\tconst yAxis = new Mesh( geometry, getAxisMaterial( color2 ) );\n\t\tconst zAxis = new Mesh( geometry, getAxisMaterial( color3 ) );\n\n\t\tyAxis.rotation.z = Math.PI / 2;\n\t\tzAxis.rotation.y = - Math.PI / 2;\n\n\t\tthis.add( xAxis );\n\t\tthis.add( zAxis );\n\t\tthis.add( yAxis );\n\n\t\tconst posXAxisHelper = new Sprite( getSpriteMaterial( color1, 'X' ) );\n\t\tposXAxisHelper.userData.type = 'posX';\n\t\tconst posYAxisHelper = new Sprite( getSpriteMaterial( color2, 'Y' ) );\n\t\tposYAxisHelper.userData.type = 'posY';\n\t\tconst posZAxisHelper = new Sprite( getSpriteMaterial( color3, 'Z' ) );\n\t\tposZAxisHelper.userData.type = 'posZ';\n\t\tconst negXAxisHelper = new Sprite( getSpriteMaterial( color1 ) );\n\t\tnegXAxisHelper.userData.type = 'negX';\n\t\tconst negYAxisHelper = new Sprite( getSpriteMaterial( color2 ) );\n\t\tnegYAxisHelper.userData.type = 'negY';\n\t\tconst negZAxisHelper = new Sprite( getSpriteMaterial( color3 ) );\n\t\tnegZAxisHelper.userData.type = 'negZ';\n\n\t\tposXAxisHelper.position.x = 1;\n\t\tposYAxisHelper.position.y = 1;\n\t\tposZAxisHelper.position.z = 1;\n\t\tnegXAxisHelper.position.x = - 1;\n\t\tnegXAxisHelper.scale.setScalar( 0.8 );\n\t\tnegYAxisHelper.position.y = - 1;\n\t\tnegYAxisHelper.scale.setScalar( 0.8 );\n\t\tnegZAxisHelper.position.z = - 1;\n\t\tnegZAxisHelper.scale.setScalar( 0.8 );\n\n\t\tthis.add( posXAxisHelper );\n\t\tthis.add( posYAxisHelper );\n\t\tthis.add( posZAxisHelper );\n\t\tthis.add( negXAxisHelper );\n\t\tthis.add( negYAxisHelper );\n\t\tthis.add( negZAxisHelper );\n\n\t\tinteractiveObjects.push( posXAxisHelper );\n\t\tinteractiveObjects.push( posYAxisHelper );\n\t\tinteractiveObjects.push( posZAxisHelper );\n\t\tinteractiveObjects.push( negXAxisHelper );\n\t\tinteractiveObjects.push( negYAxisHelper );\n\t\tinteractiveObjects.push( negZAxisHelper );\n\n\t\tconst point = new Vector3();\n\t\tconst dim = 128;\n\t\tconst turnRate = 2 * Math.PI; // turn rate in angles per second\n\n\t\tthis.render = function ( renderer ) {\n\n\t\t\tthis.quaternion.copy( camera.quaternion ).invert();\n\t\t\tthis.updateMatrixWorld();\n\n\t\t\tpoint.set( 0, 0, 1 );\n\t\t\tpoint.applyQuaternion( camera.quaternion );\n\n\t\t\tif ( point.x >= 0 ) {\n\n\t\t\t\tposXAxisHelper.material.opacity = 1;\n\t\t\t\tnegXAxisHelper.material.opacity = 0.5;\n\n\t\t\t} else {\n\n\t\t\t\tposXAxisHelper.material.opacity = 0.5;\n\t\t\t\tnegXAxisHelper.material.opacity = 1;\n\n\t\t\t}\n\n\t\t\tif ( point.y >= 0 ) {\n\n\t\t\t\tposYAxisHelper.material.opacity = 1;\n\t\t\t\tnegYAxisHelper.material.opacity = 0.5;\n\n\t\t\t} else {\n\n\t\t\t\tposYAxisHelper.material.opacity = 0.5;\n\t\t\t\tnegYAxisHelper.material.opacity = 1;\n\n\t\t\t}\n\n\t\t\tif ( point.z >= 0 ) {\n\n\t\t\t\tposZAxisHelper.material.opacity = 1;\n\t\t\t\tnegZAxisHelper.material.opacity = 0.5;\n\n\t\t\t} else {\n\n\t\t\t\tposZAxisHelper.material.opacity = 0.5;\n\t\t\t\tnegZAxisHelper.material.opacity = 1;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst x = domElement.offsetWidth - dim;\n\n\t\t\trenderer.clearDepth();\n\n\t\t\trenderer.getViewport( viewport );\n\t\t\trenderer.setViewport( x, 0, dim, dim );\n\n\t\t\trenderer.render( this, orthoCamera );\n\n\t\t\trenderer.setViewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\n\t\t};\n\n\t\tconst targetPosition = new Vector3();\n\t\tconst targetQuaternion = new Quaternion();\n\n\t\tconst q1 = new Quaternion();\n\t\tconst q2 = new Quaternion();\n\t\tconst viewport = new Vector4();\n\t\tlet radius = 0;\n\n\t\tthis.handleClick = function ( event ) {\n\n\t\t\tif ( this.animating === true ) return false;\n\n\t\t\tconst rect = domElement.getBoundingClientRect();\n\t\t\tconst offsetX = rect.left + ( domElement.offsetWidth - dim );\n\t\t\tconst offsetY = rect.top + ( domElement.offsetHeight - dim );\n\t\t\tmouse.x = ( ( event.clientX - offsetX ) / ( rect.right - offsetX ) ) * 2 - 1;\n\t\t\tmouse.y = - ( ( event.clientY - offsetY ) / ( rect.bottom - offsetY ) ) * 2 + 1;\n\n\t\t\traycaster.setFromCamera( mouse, orthoCamera );\n\n\t\t\tconst intersects = raycaster.intersectObjects( interactiveObjects );\n\n\t\t\tif ( intersects.length > 0 ) {\n\n\t\t\t\tconst intersection = intersects[ 0 ];\n\t\t\t\tconst object = intersection.object;\n\n\t\t\t\tprepareAnimationData( object, this.center );\n\n\t\t\t\tthis.animating = true;\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.update = function ( delta ) {\n\n\t\t\tconst step = delta * turnRate;\n\n\t\t\t// animate position by doing a slerp and then scaling the position on the unit sphere\n\n\t\t\tq1.rotateTowards( q2, step );\n\t\t\tcamera.position.set( 0, 0, 1 ).applyQuaternion( q1 ).multiplyScalar( radius ).add( this.center );\n\n\t\t\t// animate orientation\n\n\t\t\tcamera.quaternion.rotateTowards( targetQuaternion, step );\n\n\t\t\tif ( q1.angleTo( q2 ) === 0 ) {\n\n\t\t\t\tthis.animating = false;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tgeometry.dispose();\n\n\t\t\txAxis.material.dispose();\n\t\t\tyAxis.material.dispose();\n\t\t\tzAxis.material.dispose();\n\n\t\t\tposXAxisHelper.material.map.dispose();\n\t\t\tposYAxisHelper.material.map.dispose();\n\t\t\tposZAxisHelper.material.map.dispose();\n\t\t\tnegXAxisHelper.material.map.dispose();\n\t\t\tnegYAxisHelper.material.map.dispose();\n\t\t\tnegZAxisHelper.material.map.dispose();\n\n\t\t\tposXAxisHelper.material.dispose();\n\t\t\tposYAxisHelper.material.dispose();\n\t\t\tposZAxisHelper.material.dispose();\n\t\t\tnegXAxisHelper.material.dispose();\n\t\t\tnegYAxisHelper.material.dispose();\n\t\t\tnegZAxisHelper.material.dispose();\n\n\t\t};\n\n\t\tfunction prepareAnimationData( object, focusPoint ) {\n\n\t\t\tswitch ( object.userData.type ) {\n\n\t\t\t\tcase 'posX':\n\t\t\t\t\ttargetPosition.set( 1, 0, 0 );\n\t\t\t\t\ttargetQuaternion.setFromEuler( new Euler( 0, Math.PI * 0.5, 0 ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'posY':\n\t\t\t\t\ttargetPosition.set( 0, 1, 0 );\n\t\t\t\t\ttargetQuaternion.setFromEuler( new Euler( - Math.PI * 0.5, 0, 0 ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'posZ':\n\t\t\t\t\ttargetPosition.set( 0, 0, 1 );\n\t\t\t\t\ttargetQuaternion.setFromEuler( new Euler() );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'negX':\n\t\t\t\t\ttargetPosition.set( - 1, 0, 0 );\n\t\t\t\t\ttargetQuaternion.setFromEuler( new Euler( 0, - Math.PI * 0.5, 0 ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'negY':\n\t\t\t\t\ttargetPosition.set( 0, - 1, 0 );\n\t\t\t\t\ttargetQuaternion.setFromEuler( new Euler( Math.PI * 0.5, 0, 0 ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'negZ':\n\t\t\t\t\ttargetPosition.set( 0, 0, - 1 );\n\t\t\t\t\ttargetQuaternion.setFromEuler( new Euler( 0, Math.PI, 0 ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error( 'ViewHelper: Invalid axis.' );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tradius = camera.position.distanceTo( focusPoint );\n\t\t\ttargetPosition.multiplyScalar( radius ).add( focusPoint );\n\n\t\t\tdummy.position.copy( focusPoint );\n\n\t\t\tdummy.lookAt( camera.position );\n\t\t\tq1.copy( dummy.quaternion );\n\n\t\t\tdummy.lookAt( targetPosition );\n\t\t\tq2.copy( dummy.quaternion );\n\n\t\t}\n\n\t\tfunction getAxisMaterial( color ) {\n\n\t\t\treturn new MeshBasicMaterial( { color: color, toneMapped: false } );\n\n\t\t}\n\n\t\tfunction getSpriteMaterial( color, text = null ) {\n\n\t\t\tconst canvas = document.createElement( 'canvas' );\n\t\t\tcanvas.width = 64;\n\t\t\tcanvas.height = 64;\n\n\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\tcontext.beginPath();\n\t\t\tcontext.arc( 32, 32, 16, 0, 2 * Math.PI );\n\t\t\tcontext.closePath();\n\t\t\tcontext.fillStyle = color.getStyle();\n\t\t\tcontext.fill();\n\n\t\t\tif ( text !== null ) {\n\n\t\t\t\tcontext.font = '24px Arial';\n\t\t\t\tcontext.textAlign = 'center';\n\t\t\t\tcontext.fillStyle = '#000000';\n\t\t\t\tcontext.fillText( text, 32, 41 );\n\n\t\t\t}\n\n\t\t\tconst texture = new CanvasTexture( canvas );\n\n\t\t\treturn new SpriteMaterial( { map: texture, toneMapped: false } );\n\n\t\t}\n\n\t}\n\n}\n\nexport { ViewHelper };\n"],"mappings":"AAAA,SACCA,WAAW,EACXC,aAAa,EACbC,KAAK,EACLC,KAAK,EACLC,IAAI,EACJC,iBAAiB,EACjBC,QAAQ,EACRC,kBAAkB,EAClBC,UAAU,EACVC,SAAS,EACTC,MAAM,EACNC,cAAc,EACdC,OAAO,EACPC,OAAO,EACPC,OAAO,QACD,OAAO;AAEd,MAAMC,UAAU,SAAST,QAAQ,CAAC;EAEjCU,WAAWA,CAAEC,MAAM,EAAEC,UAAU,EAAG;IAEjC,KAAK,CAAC,CAAC;IAEP,IAAI,CAACC,YAAY,GAAG,IAAI;IAExB,IAAI,CAACC,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,MAAM,GAAG,IAAIR,OAAO,CAAC,CAAC;IAE3B,MAAMS,MAAM,GAAG,IAAIpB,KAAK,CAAE,SAAU,CAAC;IACrC,MAAMqB,MAAM,GAAG,IAAIrB,KAAK,CAAE,SAAU,CAAC;IACrC,MAAMsB,MAAM,GAAG,IAAItB,KAAK,CAAE,SAAU,CAAC;IAErC,MAAMuB,kBAAkB,GAAG,EAAE;IAC7B,MAAMC,SAAS,GAAG,IAAIjB,SAAS,CAAC,CAAC;IACjC,MAAMkB,KAAK,GAAG,IAAIf,OAAO,CAAC,CAAC;IAC3B,MAAMgB,KAAK,GAAG,IAAItB,QAAQ,CAAC,CAAC;IAE5B,MAAMuB,WAAW,GAAG,IAAItB,kBAAkB,CAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;IAClEsB,WAAW,CAACC,QAAQ,CAACC,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;IAEnC,MAAMC,QAAQ,GAAG,IAAIhC,WAAW,CAAE,GAAG,EAAE,IAAI,EAAE,IAAK,CAAC,CAACiC,SAAS,CAAE,GAAG,EAAE,CAAC,EAAE,CAAE,CAAC;IAE1E,MAAMC,KAAK,GAAG,IAAI9B,IAAI,CAAE4B,QAAQ,EAAEG,eAAe,CAAEb,MAAO,CAAE,CAAC;IAC7D,MAAMc,KAAK,GAAG,IAAIhC,IAAI,CAAE4B,QAAQ,EAAEG,eAAe,CAAEZ,MAAO,CAAE,CAAC;IAC7D,MAAMc,KAAK,GAAG,IAAIjC,IAAI,CAAE4B,QAAQ,EAAEG,eAAe,CAAEX,MAAO,CAAE,CAAC;IAE7DY,KAAK,CAACE,QAAQ,CAACC,CAAC,GAAGC,IAAI,CAACC,EAAE,GAAG,CAAC;IAC9BJ,KAAK,CAACC,QAAQ,CAACI,CAAC,GAAG,CAAEF,IAAI,CAACC,EAAE,GAAG,CAAC;IAEhC,IAAI,CAACE,GAAG,CAAET,KAAM,CAAC;IACjB,IAAI,CAACS,GAAG,CAAEN,KAAM,CAAC;IACjB,IAAI,CAACM,GAAG,CAAEP,KAAM,CAAC;IAEjB,MAAMQ,cAAc,GAAG,IAAIlC,MAAM,CAAEmC,iBAAiB,CAAEvB,MAAM,EAAE,GAAI,CAAE,CAAC;IACrEsB,cAAc,CAACE,QAAQ,CAACC,IAAI,GAAG,MAAM;IACrC,MAAMC,cAAc,GAAG,IAAItC,MAAM,CAAEmC,iBAAiB,CAAEtB,MAAM,EAAE,GAAI,CAAE,CAAC;IACrEyB,cAAc,CAACF,QAAQ,CAACC,IAAI,GAAG,MAAM;IACrC,MAAME,cAAc,GAAG,IAAIvC,MAAM,CAAEmC,iBAAiB,CAAErB,MAAM,EAAE,GAAI,CAAE,CAAC;IACrEyB,cAAc,CAACH,QAAQ,CAACC,IAAI,GAAG,MAAM;IACrC,MAAMG,cAAc,GAAG,IAAIxC,MAAM,CAAEmC,iBAAiB,CAAEvB,MAAO,CAAE,CAAC;IAChE4B,cAAc,CAACJ,QAAQ,CAACC,IAAI,GAAG,MAAM;IACrC,MAAMI,cAAc,GAAG,IAAIzC,MAAM,CAAEmC,iBAAiB,CAAEtB,MAAO,CAAE,CAAC;IAChE4B,cAAc,CAACL,QAAQ,CAACC,IAAI,GAAG,MAAM;IACrC,MAAMK,cAAc,GAAG,IAAI1C,MAAM,CAAEmC,iBAAiB,CAAErB,MAAO,CAAE,CAAC;IAChE4B,cAAc,CAACN,QAAQ,CAACC,IAAI,GAAG,MAAM;IAErCH,cAAc,CAACd,QAAQ,CAACuB,CAAC,GAAG,CAAC;IAC7BL,cAAc,CAAClB,QAAQ,CAACY,CAAC,GAAG,CAAC;IAC7BO,cAAc,CAACnB,QAAQ,CAACS,CAAC,GAAG,CAAC;IAC7BW,cAAc,CAACpB,QAAQ,CAACuB,CAAC,GAAG,CAAE,CAAC;IAC/BH,cAAc,CAACI,KAAK,CAACC,SAAS,CAAE,GAAI,CAAC;IACrCJ,cAAc,CAACrB,QAAQ,CAACY,CAAC,GAAG,CAAE,CAAC;IAC/BS,cAAc,CAACG,KAAK,CAACC,SAAS,CAAE,GAAI,CAAC;IACrCH,cAAc,CAACtB,QAAQ,CAACS,CAAC,GAAG,CAAE,CAAC;IAC/Ba,cAAc,CAACE,KAAK,CAACC,SAAS,CAAE,GAAI,CAAC;IAErC,IAAI,CAACZ,GAAG,CAAEC,cAAe,CAAC;IAC1B,IAAI,CAACD,GAAG,CAAEK,cAAe,CAAC;IAC1B,IAAI,CAACL,GAAG,CAAEM,cAAe,CAAC;IAC1B,IAAI,CAACN,GAAG,CAAEO,cAAe,CAAC;IAC1B,IAAI,CAACP,GAAG,CAAEQ,cAAe,CAAC;IAC1B,IAAI,CAACR,GAAG,CAAES,cAAe,CAAC;IAE1B3B,kBAAkB,CAAC+B,IAAI,CAAEZ,cAAe,CAAC;IACzCnB,kBAAkB,CAAC+B,IAAI,CAAER,cAAe,CAAC;IACzCvB,kBAAkB,CAAC+B,IAAI,CAAEP,cAAe,CAAC;IACzCxB,kBAAkB,CAAC+B,IAAI,CAAEN,cAAe,CAAC;IACzCzB,kBAAkB,CAAC+B,IAAI,CAAEL,cAAe,CAAC;IACzC1B,kBAAkB,CAAC+B,IAAI,CAAEJ,cAAe,CAAC;IAEzC,MAAMK,KAAK,GAAG,IAAI5C,OAAO,CAAC,CAAC;IAC3B,MAAM6C,GAAG,GAAG,GAAG;IACf,MAAMC,QAAQ,GAAG,CAAC,GAAGnB,IAAI,CAACC,EAAE,CAAC,CAAC;;IAE9B,IAAI,CAACmB,MAAM,GAAG,UAAWC,QAAQ,EAAG;MAEnC,IAAI,CAACC,UAAU,CAACC,IAAI,CAAE9C,MAAM,CAAC6C,UAAW,CAAC,CAACE,MAAM,CAAC,CAAC;MAClD,IAAI,CAACC,iBAAiB,CAAC,CAAC;MAExBR,KAAK,CAAC1B,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;MACpB0B,KAAK,CAACS,eAAe,CAAEjD,MAAM,CAAC6C,UAAW,CAAC;MAE1C,IAAKL,KAAK,CAACJ,CAAC,IAAI,CAAC,EAAG;QAEnBT,cAAc,CAACuB,QAAQ,CAACC,OAAO,GAAG,CAAC;QACnClB,cAAc,CAACiB,QAAQ,CAACC,OAAO,GAAG,GAAG;MAEtC,CAAC,MAAM;QAENxB,cAAc,CAACuB,QAAQ,CAACC,OAAO,GAAG,GAAG;QACrClB,cAAc,CAACiB,QAAQ,CAACC,OAAO,GAAG,CAAC;MAEpC;MAEA,IAAKX,KAAK,CAACf,CAAC,IAAI,CAAC,EAAG;QAEnBM,cAAc,CAACmB,QAAQ,CAACC,OAAO,GAAG,CAAC;QACnCjB,cAAc,CAACgB,QAAQ,CAACC,OAAO,GAAG,GAAG;MAEtC,CAAC,MAAM;QAENpB,cAAc,CAACmB,QAAQ,CAACC,OAAO,GAAG,GAAG;QACrCjB,cAAc,CAACgB,QAAQ,CAACC,OAAO,GAAG,CAAC;MAEpC;MAEA,IAAKX,KAAK,CAAClB,CAAC,IAAI,CAAC,EAAG;QAEnBU,cAAc,CAACkB,QAAQ,CAACC,OAAO,GAAG,CAAC;QACnChB,cAAc,CAACe,QAAQ,CAACC,OAAO,GAAG,GAAG;MAEtC,CAAC,MAAM;QAENnB,cAAc,CAACkB,QAAQ,CAACC,OAAO,GAAG,GAAG;QACrChB,cAAc,CAACe,QAAQ,CAACC,OAAO,GAAG,CAAC;MAEpC;;MAEA;;MAEA,MAAMf,CAAC,GAAGnC,UAAU,CAACmD,WAAW,GAAGX,GAAG;MAEtCG,QAAQ,CAACS,UAAU,CAAC,CAAC;MAErBT,QAAQ,CAACU,WAAW,CAAEC,QAAS,CAAC;MAChCX,QAAQ,CAACY,WAAW,CAAEpB,CAAC,EAAE,CAAC,EAAEK,GAAG,EAAEA,GAAI,CAAC;MAEtCG,QAAQ,CAACD,MAAM,CAAE,IAAI,EAAE/B,WAAY,CAAC;MAEpCgC,QAAQ,CAACY,WAAW,CAAED,QAAQ,CAACnB,CAAC,EAAEmB,QAAQ,CAAC9B,CAAC,EAAE8B,QAAQ,CAACjC,CAAC,EAAEiC,QAAQ,CAACE,CAAE,CAAC;IAEvE,CAAC;IAED,MAAMC,cAAc,GAAG,IAAI9D,OAAO,CAAC,CAAC;IACpC,MAAM+D,gBAAgB,GAAG,IAAIpE,UAAU,CAAC,CAAC;IAEzC,MAAMqE,EAAE,GAAG,IAAIrE,UAAU,CAAC,CAAC;IAC3B,MAAMsE,EAAE,GAAG,IAAItE,UAAU,CAAC,CAAC;IAC3B,MAAMgE,QAAQ,GAAG,IAAI1D,OAAO,CAAC,CAAC;IAC9B,IAAIiE,MAAM,GAAG,CAAC;IAEd,IAAI,CAACC,WAAW,GAAG,UAAWC,KAAK,EAAG;MAErC,IAAK,IAAI,CAAC7D,SAAS,KAAK,IAAI,EAAG,OAAO,KAAK;MAE3C,MAAM8D,IAAI,GAAGhE,UAAU,CAACiE,qBAAqB,CAAC,CAAC;MAC/C,MAAMC,OAAO,GAAGF,IAAI,CAACG,IAAI,IAAKnE,UAAU,CAACmD,WAAW,GAAGX,GAAG,CAAE;MAC5D,MAAM4B,OAAO,GAAGJ,IAAI,CAACK,GAAG,IAAKrE,UAAU,CAACsE,YAAY,GAAG9B,GAAG,CAAE;MAC5D/B,KAAK,CAAC0B,CAAC,GAAK,CAAE4B,KAAK,CAACQ,OAAO,GAAGL,OAAO,KAAOF,IAAI,CAACQ,KAAK,GAAGN,OAAO,CAAE,GAAK,CAAC,GAAG,CAAC;MAC5EzD,KAAK,CAACe,CAAC,GAAG,EAAI,CAAEuC,KAAK,CAACU,OAAO,GAAGL,OAAO,KAAOJ,IAAI,CAACU,MAAM,GAAGN,OAAO,CAAE,CAAE,GAAG,CAAC,GAAG,CAAC;MAE/E5D,SAAS,CAACmE,aAAa,CAAElE,KAAK,EAAEE,WAAY,CAAC;MAE7C,MAAMiE,UAAU,GAAGpE,SAAS,CAACqE,gBAAgB,CAAEtE,kBAAmB,CAAC;MAEnE,IAAKqE,UAAU,CAACE,MAAM,GAAG,CAAC,EAAG;QAE5B,MAAMC,YAAY,GAAGH,UAAU,CAAE,CAAC,CAAE;QACpC,MAAMI,MAAM,GAAGD,YAAY,CAACC,MAAM;QAElCC,oBAAoB,CAAED,MAAM,EAAE,IAAI,CAAC7E,MAAO,CAAC;QAE3C,IAAI,CAACD,SAAS,GAAG,IAAI;QAErB,OAAO,IAAI;MAEZ,CAAC,MAAM;QAEN,OAAO,KAAK;MAEb;IAED,CAAC;IAED,IAAI,CAACgF,MAAM,GAAG,UAAWC,KAAK,EAAG;MAEhC,MAAMC,IAAI,GAAGD,KAAK,GAAG1C,QAAQ;;MAE7B;;MAEAkB,EAAE,CAAC0B,aAAa,CAAEzB,EAAE,EAAEwB,IAAK,CAAC;MAC5BrF,MAAM,CAACa,QAAQ,CAACC,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC,CAACmC,eAAe,CAAEW,EAAG,CAAC,CAAC2B,cAAc,CAAEzB,MAAO,CAAC,CAACpC,GAAG,CAAE,IAAI,CAACtB,MAAO,CAAC;;MAEhG;;MAEAJ,MAAM,CAAC6C,UAAU,CAACyC,aAAa,CAAE3B,gBAAgB,EAAE0B,IAAK,CAAC;MAEzD,IAAKzB,EAAE,CAAC4B,OAAO,CAAE3B,EAAG,CAAC,KAAK,CAAC,EAAG;QAE7B,IAAI,CAAC1D,SAAS,GAAG,KAAK;MAEvB;IAED,CAAC;IAED,IAAI,CAACsF,OAAO,GAAG,YAAY;MAE1B1E,QAAQ,CAAC0E,OAAO,CAAC,CAAC;MAElBxE,KAAK,CAACiC,QAAQ,CAACuC,OAAO,CAAC,CAAC;MACxBtE,KAAK,CAAC+B,QAAQ,CAACuC,OAAO,CAAC,CAAC;MACxBrE,KAAK,CAAC8B,QAAQ,CAACuC,OAAO,CAAC,CAAC;MAExB9D,cAAc,CAACuB,QAAQ,CAACwC,GAAG,CAACD,OAAO,CAAC,CAAC;MACrC1D,cAAc,CAACmB,QAAQ,CAACwC,GAAG,CAACD,OAAO,CAAC,CAAC;MACrCzD,cAAc,CAACkB,QAAQ,CAACwC,GAAG,CAACD,OAAO,CAAC,CAAC;MACrCxD,cAAc,CAACiB,QAAQ,CAACwC,GAAG,CAACD,OAAO,CAAC,CAAC;MACrCvD,cAAc,CAACgB,QAAQ,CAACwC,GAAG,CAACD,OAAO,CAAC,CAAC;MACrCtD,cAAc,CAACe,QAAQ,CAACwC,GAAG,CAACD,OAAO,CAAC,CAAC;MAErC9D,cAAc,CAACuB,QAAQ,CAACuC,OAAO,CAAC,CAAC;MACjC1D,cAAc,CAACmB,QAAQ,CAACuC,OAAO,CAAC,CAAC;MACjCzD,cAAc,CAACkB,QAAQ,CAACuC,OAAO,CAAC,CAAC;MACjCxD,cAAc,CAACiB,QAAQ,CAACuC,OAAO,CAAC,CAAC;MACjCvD,cAAc,CAACgB,QAAQ,CAACuC,OAAO,CAAC,CAAC;MACjCtD,cAAc,CAACe,QAAQ,CAACuC,OAAO,CAAC,CAAC;IAElC,CAAC;IAED,SAASP,oBAAoBA,CAAED,MAAM,EAAEU,UAAU,EAAG;MAEnD,QAASV,MAAM,CAACpD,QAAQ,CAACC,IAAI;QAE5B,KAAK,MAAM;UACV4B,cAAc,CAAC5C,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;UAC7B6C,gBAAgB,CAACiC,YAAY,CAAE,IAAI1G,KAAK,CAAE,CAAC,EAAEqC,IAAI,CAACC,EAAE,GAAG,GAAG,EAAE,CAAE,CAAE,CAAC;UACjE;QAED,KAAK,MAAM;UACVkC,cAAc,CAAC5C,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;UAC7B6C,gBAAgB,CAACiC,YAAY,CAAE,IAAI1G,KAAK,CAAE,CAAEqC,IAAI,CAACC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAE,CAAE,CAAC;UACnE;QAED,KAAK,MAAM;UACVkC,cAAc,CAAC5C,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;UAC7B6C,gBAAgB,CAACiC,YAAY,CAAE,IAAI1G,KAAK,CAAC,CAAE,CAAC;UAC5C;QAED,KAAK,MAAM;UACVwE,cAAc,CAAC5C,GAAG,CAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;UAC/B6C,gBAAgB,CAACiC,YAAY,CAAE,IAAI1G,KAAK,CAAE,CAAC,EAAE,CAAEqC,IAAI,CAACC,EAAE,GAAG,GAAG,EAAE,CAAE,CAAE,CAAC;UACnE;QAED,KAAK,MAAM;UACVkC,cAAc,CAAC5C,GAAG,CAAE,CAAC,EAAE,CAAE,CAAC,EAAE,CAAE,CAAC;UAC/B6C,gBAAgB,CAACiC,YAAY,CAAE,IAAI1G,KAAK,CAAEqC,IAAI,CAACC,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE,CAAE,CAAE,CAAC;UACjE;QAED,KAAK,MAAM;UACVkC,cAAc,CAAC5C,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAE,CAAC;UAC/B6C,gBAAgB,CAACiC,YAAY,CAAE,IAAI1G,KAAK,CAAE,CAAC,EAAEqC,IAAI,CAACC,EAAE,EAAE,CAAE,CAAE,CAAC;UAC3D;QAED;UACCqE,OAAO,CAACC,KAAK,CAAE,2BAA4B,CAAC;MAE9C;;MAEA;;MAEAhC,MAAM,GAAG9D,MAAM,CAACa,QAAQ,CAACkF,UAAU,CAAEJ,UAAW,CAAC;MACjDjC,cAAc,CAAC6B,cAAc,CAAEzB,MAAO,CAAC,CAACpC,GAAG,CAAEiE,UAAW,CAAC;MAEzDhF,KAAK,CAACE,QAAQ,CAACiC,IAAI,CAAE6C,UAAW,CAAC;MAEjChF,KAAK,CAACqF,MAAM,CAAEhG,MAAM,CAACa,QAAS,CAAC;MAC/B+C,EAAE,CAACd,IAAI,CAAEnC,KAAK,CAACkC,UAAW,CAAC;MAE3BlC,KAAK,CAACqF,MAAM,CAAEtC,cAAe,CAAC;MAC9BG,EAAE,CAACf,IAAI,CAAEnC,KAAK,CAACkC,UAAW,CAAC;IAE5B;IAEA,SAAS3B,eAAeA,CAAE+E,KAAK,EAAG;MAEjC,OAAO,IAAI7G,iBAAiB,CAAE;QAAE6G,KAAK,EAAEA,KAAK;QAAEC,UAAU,EAAE;MAAM,CAAE,CAAC;IAEpE;IAEA,SAAStE,iBAAiBA,CAAEqE,KAAK,EAAEE,IAAI,GAAG,IAAI,EAAG;MAEhD,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAE,QAAS,CAAC;MACjDF,MAAM,CAACG,KAAK,GAAG,EAAE;MACjBH,MAAM,CAACI,MAAM,GAAG,EAAE;MAElB,MAAMC,OAAO,GAAGL,MAAM,CAACM,UAAU,CAAE,IAAK,CAAC;MACzCD,OAAO,CAACE,SAAS,CAAC,CAAC;MACnBF,OAAO,CAACG,GAAG,CAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,GAAGrF,IAAI,CAACC,EAAG,CAAC;MACzCiF,OAAO,CAACI,SAAS,CAAC,CAAC;MACnBJ,OAAO,CAACK,SAAS,GAAGb,KAAK,CAACc,QAAQ,CAAC,CAAC;MACpCN,OAAO,CAACO,IAAI,CAAC,CAAC;MAEd,IAAKb,IAAI,KAAK,IAAI,EAAG;QAEpBM,OAAO,CAACQ,IAAI,GAAG,YAAY;QAC3BR,OAAO,CAACS,SAAS,GAAG,QAAQ;QAC5BT,OAAO,CAACK,SAAS,GAAG,SAAS;QAC7BL,OAAO,CAACU,QAAQ,CAAEhB,IAAI,EAAE,EAAE,EAAE,EAAG,CAAC;MAEjC;MAEA,MAAMiB,OAAO,GAAG,IAAIpI,aAAa,CAAEoH,MAAO,CAAC;MAE3C,OAAO,IAAI1G,cAAc,CAAE;QAAEgG,GAAG,EAAE0B,OAAO;QAAElB,UAAU,EAAE;MAAM,CAAE,CAAC;IAEjE;EAED;AAED;AAEA,SAASpG,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}