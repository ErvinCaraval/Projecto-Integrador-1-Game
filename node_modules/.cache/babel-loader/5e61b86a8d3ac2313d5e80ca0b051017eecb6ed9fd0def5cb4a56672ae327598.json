{"ast":null,"code":"import { Group, Raycaster, Vector2 } from 'three';\nconst _pointer = new Vector2();\nconst _event = {\n  type: '',\n  data: _pointer\n};\nconst _raycaster = new Raycaster();\nclass InteractiveGroup extends Group {\n  listenToPointerEvents(renderer, camera) {\n    const scope = this;\n    const raycaster = new Raycaster();\n    const element = renderer.domElement;\n    function onPointerEvent(event) {\n      event.stopPropagation();\n      const rect = renderer.domElement.getBoundingClientRect();\n      _pointer.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n      _pointer.y = -(event.clientY - rect.top) / rect.height * 2 + 1;\n      raycaster.setFromCamera(_pointer, camera);\n      const intersects = raycaster.intersectObjects(scope.children, false);\n      if (intersects.length > 0) {\n        const intersection = intersects[0];\n        const object = intersection.object;\n        const uv = intersection.uv;\n        _event.type = event.type;\n        _event.data.set(uv.x, 1 - uv.y);\n        object.dispatchEvent(_event);\n      }\n    }\n    element.addEventListener('pointerdown', onPointerEvent);\n    element.addEventListener('pointerup', onPointerEvent);\n    element.addEventListener('pointermove', onPointerEvent);\n    element.addEventListener('mousedown', onPointerEvent);\n    element.addEventListener('mouseup', onPointerEvent);\n    element.addEventListener('mousemove', onPointerEvent);\n    element.addEventListener('click', onPointerEvent);\n  }\n  listenToXRControllerEvents(controller) {\n    const scope = this;\n\n    // TODO: Dispatch pointerevents too\n\n    const events = {\n      'move': 'mousemove',\n      'select': 'click',\n      'selectstart': 'mousedown',\n      'selectend': 'mouseup'\n    };\n    function onXRControllerEvent(event) {\n      const controller = event.target;\n      _raycaster.setFromXRController(controller);\n      const intersections = _raycaster.intersectObjects(scope.children, false);\n      if (intersections.length > 0) {\n        const intersection = intersections[0];\n        const object = intersection.object;\n        const uv = intersection.uv;\n        _event.type = events[event.type];\n        _event.data.set(uv.x, 1 - uv.y);\n        object.dispatchEvent(_event);\n      }\n    }\n    controller.addEventListener('move', onXRControllerEvent);\n    controller.addEventListener('select', onXRControllerEvent);\n    controller.addEventListener('selectstart', onXRControllerEvent);\n    controller.addEventListener('selectend', onXRControllerEvent);\n  }\n}\nexport { InteractiveGroup };","map":{"version":3,"names":["Group","Raycaster","Vector2","_pointer","_event","type","data","_raycaster","InteractiveGroup","listenToPointerEvents","renderer","camera","scope","raycaster","element","domElement","onPointerEvent","event","stopPropagation","rect","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","setFromCamera","intersects","intersectObjects","children","length","intersection","object","uv","set","dispatchEvent","addEventListener","listenToXRControllerEvents","controller","events","onXRControllerEvent","target","setFromXRController","intersections"],"sources":["/home/ervin/Escritorio/integrador/Projecto-Integrador-1-Game/node_modules/three/examples/jsm/interactive/InteractiveGroup.js"],"sourcesContent":["import {\n\tGroup,\n\tRaycaster,\n\tVector2\n} from 'three';\n\nconst _pointer = new Vector2();\nconst _event = { type: '', data: _pointer };\n\nconst _raycaster = new Raycaster();\n\nclass InteractiveGroup extends Group {\n\n\tlistenToPointerEvents( renderer, camera ) {\n\n\t\tconst scope = this;\n\t\tconst raycaster = new Raycaster();\n\n\t\tconst element = renderer.domElement;\n\n\t\tfunction onPointerEvent( event ) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tconst rect = renderer.domElement.getBoundingClientRect();\n\n\t\t\t_pointer.x = ( event.clientX - rect.left ) / rect.width * 2 - 1;\n\t\t\t_pointer.y = - ( event.clientY - rect.top ) / rect.height * 2 + 1;\n\n\t\t\traycaster.setFromCamera( _pointer, camera );\n\n\t\t\tconst intersects = raycaster.intersectObjects( scope.children, false );\n\n\t\t\tif ( intersects.length > 0 ) {\n\n\t\t\t\tconst intersection = intersects[ 0 ];\n\n\t\t\t\tconst object = intersection.object;\n\t\t\t\tconst uv = intersection.uv;\n\n\t\t\t\t_event.type = event.type;\n\t\t\t\t_event.data.set( uv.x, 1 - uv.y );\n\n\t\t\t\tobject.dispatchEvent( _event );\n\n\t\t\t}\n\n\t\t}\n\n\t\telement.addEventListener( 'pointerdown', onPointerEvent );\n\t\telement.addEventListener( 'pointerup', onPointerEvent );\n\t\telement.addEventListener( 'pointermove', onPointerEvent );\n\t\telement.addEventListener( 'mousedown', onPointerEvent );\n\t\telement.addEventListener( 'mouseup', onPointerEvent );\n\t\telement.addEventListener( 'mousemove', onPointerEvent );\n\t\telement.addEventListener( 'click', onPointerEvent );\n\n\t}\n\n\tlistenToXRControllerEvents( controller ) {\n\n\t\tconst scope = this;\n\n\t\t// TODO: Dispatch pointerevents too\n\n\t\tconst events = {\n\t\t\t'move': 'mousemove',\n\t\t\t'select': 'click',\n\t\t\t'selectstart': 'mousedown',\n\t\t\t'selectend': 'mouseup'\n\t\t};\n\n\t\tfunction onXRControllerEvent( event ) {\n\n\t\t\tconst controller = event.target;\n\n\t\t\t_raycaster.setFromXRController( controller );\n\n\t\t\tconst intersections = _raycaster.intersectObjects( scope.children, false );\n\n\t\t\tif ( intersections.length > 0 ) {\n\n\t\t\t\tconst intersection = intersections[ 0 ];\n\n\t\t\t\tconst object = intersection.object;\n\t\t\t\tconst uv = intersection.uv;\n\n\t\t\t\t_event.type = events[ event.type ];\n\t\t\t\t_event.data.set( uv.x, 1 - uv.y );\n\n\t\t\t\tobject.dispatchEvent( _event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tcontroller.addEventListener( 'move', onXRControllerEvent );\n\t\tcontroller.addEventListener( 'select', onXRControllerEvent );\n\t\tcontroller.addEventListener( 'selectstart', onXRControllerEvent );\n\t\tcontroller.addEventListener( 'selectend', onXRControllerEvent );\n\n\t}\n\n}\n\nexport { InteractiveGroup };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}