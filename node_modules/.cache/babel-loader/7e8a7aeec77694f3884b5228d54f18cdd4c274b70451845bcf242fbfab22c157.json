{"ast":null,"code":"import { useRef, useEffect } from \"react\";\nimport { onEvent, offEvent } from \"./vanilla.mjs\";\nfunction useEvent(eventName, handler, deps = [], options) {\n  const handlerRef = useRef(handler);\n  useEffect(() => void (handlerRef.current = handler), [handler]);\n  useEffect(() => {\n    const handler2 = event => {\n      var _a;\n      return (_a = handlerRef.current) == null ? void 0 : _a.call(handlerRef, event);\n    };\n    const context = onEvent(eventName, handler2, options);\n    return () => offEvent(eventName, handler2, {\n      ...options,\n      context\n    });\n  }, [eventName, options == null ? void 0 : options.once, ...deps]);\n}\nexport { useEvent };","map":{"version":3,"names":["useEvent","eventName","handler","deps","options","handlerRef","useRef","useEffect","current","handler2","event","_a","call","context","onEvent","offEvent","once"],"sources":["/home/ervin/Escritorio/integrador/squid-games-pi-2024-1-client/node_modules/@utsubo/events/src/react.ts"],"sourcesContent":["import { useRef, useEffect } from 'react'\nimport { onEvent, offEvent } from './vanilla'\nimport type { EventHandler, EventOptions } from './types'\n\n/**\n * React hook for creating a listener for a given event.\n */\nexport function useEvent(eventName: string, handler: EventHandler, deps: any[] = [], options?: EventOptions): void {\n  const handlerRef = useRef<EventHandler>(handler)\n  useEffect(() => void (handlerRef.current = handler), [handler])\n\n  useEffect(() => {\n    const handler = (event: any) => handlerRef.current?.(event)\n    const context = onEvent(eventName, handler, options)\n\n    return () => offEvent(eventName, handler, { ...options, context })\n  }, [eventName, options?.once, ...deps])\n}\n"],"mappings":";;AAOO,SAASA,SAASC,SAAA,EAAmBC,OAAA,EAAuBC,IAAA,GAAc,IAAIC,OAAA,EAA8B;EAC3G,MAAAC,UAAA,GAAaC,MAAA,CAAqBJ,OAAO;EAC/CK,SAAA,CAAU,MAAM,MAAMF,UAAA,CAAWG,OAAA,GAAUN,OAAA,GAAU,CAACA,OAAO,CAAC;EAE9DK,SAAA,CAAU,MAAM;IACd,MAAME,QAAA,GAAWC,KAAA,IAAe;;MAAA,QAAAC,EAAA,GAAAN,UAAA,CAAWG,OAAA,KAAX,gBAAAG,EAAA,CAAAC,IAAA,CAAAP,UAAA,EAAqBK,KAAA;IAAA;IACrD,MAAMG,OAAA,GAAUC,OAAA,CAAQb,SAAA,EAAWQ,QAAA,EAASL,OAAO;IAE5C,aAAMW,QAAA,CAASd,SAAA,EAAWQ,QAAA,EAAS;MAAE,GAAGL,OAAA;MAASS;IAAA,CAAS;EAAA,GAChE,CAACZ,SAAA,EAAWG,OAAA,oBAAAA,OAAA,CAASY,IAAA,EAAM,GAAGb,IAAI,CAAC;AACxC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}